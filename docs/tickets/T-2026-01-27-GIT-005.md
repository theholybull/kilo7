# T-2026-01-27-GIT-005 â€” Repo Hygiene: Clean Modified Tracked Files

Status: OPEN
Owner: KILO .7 Backend
Created: 2026-01-27

## Context
After completing INV-001, UI-002, RLY-003, and GIT-004, the repo still has pre-existing modified tracked files not covered by the prior tickets:

Modified tracked files (as observed):
- logs/step_1_7/* (tracked logs)
- robot/ros_ws/src/kilo_core/kilo_core/mqtt_bridge.py
- robot/ros_ws/src/kilo_core/kilo_core/safety_gate.py
- tools/step_1_8_soak.sh

Untracked (now ignored):
- logs/step_1_8/ (ignored by .gitignore)

All systemd units reference WorkingDirectory=/opt/kilo7. Legacy kilo-safety-gate.service is masked. No stale path references to /opt/kilo/kilo7 or /opt/kilo7_old_*.

## Problem
- Tracked log files under logs/step_1_7/* cause persistent dirty status and are not intended for long-term versioning.
- Source files and tooling have local modifications that were not part of approved tickets and need classification (intended changes vs. local edits).

## Proposed Plan
1. Diff & Classify
   - Generate diffs for:
     - mqtt_bridge.py
     - safety_gate.py
     - tools/step_1_8_soak.sh
     - tracked log files under logs/step_1_7/*
   - Classify each change as:
     - "Keep & commit" (intentional and beneficial)
     - "Revert" (local-only or experimental)
     - "Move to tooling/logs" (for tracked logs, archive then remove from version control)

2. Logs Policy
   - Archive tracked logs under logs/step_1_7/<TS>-git005/ and remove tracked changes from VCS.
   - Update .gitignore only if needed to prevent reintroduction of tracked logs (currently logs/step_1_8/ is ignored; consider ignoring logs/step_1_7/ as well if policy agrees).

3. Source Review
   - mqtt_bridge.py: verify against docs/INTERFACE_CONTRACT.md and Step 1.7/1.8 scope.
   - safety_gate.py: verify authority model and latch/override semantics per docs/SAFETY_GATE.md.
   - tools/step_1_8_soak.sh: ensure non-breaking changes; align with UI truth rules.

4. Acceptance Criteria
   - `git status` is clean (no unintended modified tracked files).
   - No behavior change outside current phase goals (Step 1.8) without explicit approval.
   - All existing tests still PASS (robot/test_step_1_6_invariants.py and robot/test_step_1_8_ui_truth.py).
   - Documentation updated if any user-facing behavior is committed.

## Artifacts
- Cleanup archives (existing): /opt/kilo7/logs/cleanup-20260127-103113

## Notes
- No cloud dependencies added.
- Single motion authority remains Safety Gate.
- Truth topics remain single-publisher.

## Next Actions
- Run diffs and propose commit/revert per file. Submit PR-style patch for review.
